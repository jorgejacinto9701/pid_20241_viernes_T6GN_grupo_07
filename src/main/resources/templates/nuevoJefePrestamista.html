<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
	<meta charset="utf-8">
	<title>Nuevo Jefe Prestamista</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

	<!-- FONT AWESOME -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
		integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />

	<!-- TAILWIND -->
	<script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
	<!--NAVBAR-->
	<nav class="navbar navbar-dark bg-dark fixed-top" style="background-color: #001623 !important ;">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">
				<div sec:authorize="isAuthenticated()">
					Bienvenido, <span sec:authentication="principal.username"> User</span>
				</div>
				<div sec:authorize="!isAuthenticated()">
					Por favor inicia sesión para continuar.
				</div>
			</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
				aria-controls="offcanvasNavbar">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbar"
				aria-labelledby="offcanvasNavbarLabel" style="background-color: #001623 !important ;">
				<div class="offcanvas-header">
					<h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
					<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
				</div>
				<div class="offcanvas-body">
					<ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
						<li class="nav-item" sec:authorize="hasRole('ROLE_INVERSIONISTA')">
							<a class="nav-link" aria-current="page"
								th:href="@{/JefePrestamista/listaJefePrestamista}">Lista Jefe Prestamistas</a>
						</li>
						<li class="nav-item" sec:authorize="hasRole('ROLE_INVERSIONISTA')">
							<a class="nav-link active" th:href="@{/JefePrestamista/nuevoJefePrestamista}">Nuevo Jefe
								Prestamista</a>
						</li>
						<li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
							<a class="nav-link" aria-current="page" href="#">Opción para Administradores</a>
						</li>
						<!--</li>
			 			   	          <li class="nav-item dropdown">
			 			   	            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
			 			   	              Dropdown
			 			   	            </a>
			 			   	            <ul class="dropdown-menu">
			 			   	              <li><a class="dropdown-item" href="#">Action</a></li>
			 			   	              <li><a class="dropdown-item" href="#">Another action</a></li>
			 			   	              <li>
			 			   	                <hr class="dropdown-divider">
			 			   	              </li>
			 			   	              <li><a class="dropdown-item" href="#">Something else here</a></li>
			 			   	            </ul>
			 			   	          </li>-->
					</ul>
					<br>
					<div sec:authorize="isAuthenticated()">
						<a class="flex gap-2 items-center" th:href="@{/logout}"> <i
								class="fa-solid fa-right-from-bracket"></i> Cerrar Sesion </a>
					</div>
				</div>
			</div>
		</div>
	</nav>
	<!--FIN DE NAVBAR-->
	<br>
	<br>



	<!-- Inicio de Registro -->
	<div class="flex justify-center">
		<form method="post" id="registroForm" class="w-2/3 flex flex-col px-5 py-3 mx-5 space-y-6">
			<h2 class="mb-4 font-bold text-center">Registre un Jefe Prestamista!</h2>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div class="relative z-0 w-full mb-5 group">
					<input type="text" name="nombre" id="nombre"
						class="border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-0 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent appearance-none dark:border-gray-300 dark:focus:border-blue-500 peer"
						placeholder=" " required />
					<label for="nombre"
						class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Nombre</label>
				</div>
				<div class="relative z-0 w-full mb-5 group">
					<input type="text" name="apellido" id="apellido"
						class="border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-0 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent appearance-none dark:border-gray-300 dark:focus:border-blue-500 peer"
						placeholder=" " required />
					<label for="apellido"
						class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Apellido</label>
				</div>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div class="relative z-0 w-full mb-5 group">
					<input type="number" name="dni" id="dni"
						class="border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-0 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent appearance-none dark:border-gray-300 dark:focus:border-blue-500 peer"
						placeholder=" " required />
					<label for="dni"
						class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">DNI</label>
				</div>
				<div class="relative z-0 w-full mb-5 group">
					<input type="text" name="telefono" id="telefono"
						class="border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-0 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent appearance-none dark:border-gray-300 dark:focus:border-blue-500 peer"
						placeholder=" " required />
					<label for="telefono"
						class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Teléfono</label>
				</div>
			</div>

			<div class="relative mb-2">
				<label for="fecha_nacimiento" class="block text-sm font-medium text-gray-700">Fecha de
					Nacimiento</label>
				<input type="date" id="nacimiento" name="nacimiento"
					class="block w-full px-4 py-2 leading-tight bg-white border border-gray-300 rounded-md appearance-none focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-0" />
			</div>

			<div class="w-full my-8">
				<label class="block text-sm font-medium text-gray-700">Distrito a Cargo</label>
				<select id="idDistrito" name="distrito.id_distrito"
					class="block w-full px-4 py-2 pr-8 leading-tight bg-white border border-gray-300 rounded-md appearance-none focus:outline-none focus:border-blue-500 focus:ring focus:ring-blue-200 dark:border-gray-600 dark:focus:border-blue-500 dark:focus:ring-0">
					<option value="">[Seleccione]</option>
					<option th:each="distrito : ${distritos}" th:value="${distrito.id_distrito}"
						th:text="${distrito.nombre_disrtito}"
						class="py-2 px-4 text-gray-800 hover:bg-blue-200 hover:text-blue-800"></option>
				</select>
				<div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
					<svg class="w-6 h-6 fill-current text-gray-700" viewBox="0 0 20 20"
						xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M10 12l-7-7h14l-7 7z" />
					</svg>
				</div>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div class="relative z-0 w-full mb-5 group">
					<input type="email" name="correo" id="correo"
						class="border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-0 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent appearance-none dark:border-gray-300 dark:focus:border-blue-500 peer"
						placeholder=" " required />
					<label for="correo"
						class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Correo
						Electrónico</label>
				</div>
				<div class="relative z-0 w-full mb-5 group">
					<input type="password" name="contrasenia" id="contrasenia"
						class="border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-0 block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent appearance-none dark:border-gray-300 dark:focus:border-blue-500 peer"
						placeholder=" " required />
					<label for="contrasenia"
						class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Nuevo
						Password</label>
				</div>
			</div>

			<button type="submit"
				class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Registrar
				Jefe Prestamista</button>
		</form>
	</div>
	<!-- Fin de Registro -->
	<!-- Mensaje de registro exitoso-->
	<!-- 
	<div class="container" th:if="${param.success}">
		<div class="alert alert-info">
			Registro exitoso :)
		</div>
	</div> -->

	<div class="alert alert-danger alert-dismissible fade show text-center" th:if="${unsuccess} != null" role="alert">
		<label th:text="${unsuccess}"></label>
		<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	</div>
	<!-- Fin de mensaje -->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">
		</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/datepicker.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			$.getJSON("/JefePrestamista/distritos", {}, function (data) {
				$.each(data, function (index, item) {
					$("#idDistrito").append("<option value=" + item.id_distrito + ">" + item.nombre_disrtito + "</option>");
				});
			}).fail(function (jqXHR, textStatus, errorThrown) {
				console.error("Error al cargar los distritos: " + textStatus, errorThrown);
			});
		});

	</script>
	<!--VALIDACION-->
	<script src="validaciones.js" ></script>
</body>

</html>