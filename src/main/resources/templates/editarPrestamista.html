<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="utf-8">
    <title>Editar Prestamista</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
           
                 <!-- FONT AWESOME -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	
       <!-- TAILWIND -->	
        <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
	<!--NAVBAR-->
	<nav class="navbar navbar-dark bg-dark fixed-top" style="background-color: #001623 !important ;"> 
	  <div class="container-fluid">
	    <a class="navbar-brand" href="#">		
			<div sec:authorize="isAuthenticated()">
				Bienvenido, <span sec:authentication="principal.username"> User</span>
			</div>
			 <div sec:authorize="!isAuthenticated()">
			      	Por favor inicia sesión para continuar.
			  </div>
		  </a>
	    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
	      <span class="navbar-toggler-icon"></span>
	    </button>
	    <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel" style="background-color: #001623 !important ;">
	      <div class="offcanvas-header">
	        <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
	        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
	      </div>
	      <div class="offcanvas-body">
	        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
	          <li class="nav-item" sec:authorize="hasRole('ROLE_JEFE_PRESTAMISTA')">
	            <a class="nav-link" aria-current="page" th:href="@{/JefePrestamista/listaJefePrestamista}">Lista de Prestamistas</a>
	          </li>
			  <li class="nav-item" sec:authorize="hasRole('ROLE_JEFE_PRESTAMISTA')">
			      <a class="nav-link active" th:href="@{/JefePrestamista/nuevoJefePrestamista}">Nuevo Prestamista</a>
			  </li>
			  <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                 <a class="nav-link" aria-current="page" href="#">Opción para Administradores</a>
             </li>
			 <!--</li>
			 	          <li class="nav-item dropdown">
			 	            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
			 	              Dropdown
			 	            </a>
			 	            <ul class="dropdown-menu">
			 	              <li><a class="dropdown-item" href="#">Action</a></li>
			 	              <li><a class="dropdown-item" href="#">Another action</a></li>
			 	              <li>
			 	                <hr class="dropdown-divider">
			 	              </li>
			 	              <li><a class="dropdown-item" href="#">Something else here</a></li>
			 	            </ul>
			 	          </li>-->
	        </ul>
			<br>
			<div sec:authorize="isAuthenticated()">
						<a class="flex gap-2 items-center"  th:href="@{/logout}"> <i class="fa-solid fa-right-from-bracket"></i> Cerrar Sesion    </a> 
			</div>
	      </div>
	    </div>
	  </div>
	</nav>
	<!--FIN DE NAVBAR-->
	<br>
	<br>
	<div class="container">
		<!-- Mensaje de registro exitoso-->
		<div th:if="${param.success}">
			<div class="alert alert-info">
				Actualizacion Exitosa! :)
			</div>
		</div>
		<!-- Fin de mensaje -->
		<h2 class="mt-5">Actualiza al Jefe Prestamista!</h2>
		<br>
		<form th:action="@{/Prestamista/editarPrestamista/{id}(id=${usuarioP.id})}" th:object="${usuarioP}" method="post" id="registroForm">
			<div class="row">
				<div class="col-6">
	                <label for="nombre" class="form-label">Nombre:</label>
	                <input type="text" class="form-control" id="nombre" name="nombre" th:field="*{nombre}" required>
	            </div>
	            <div class="col-6">
	                <label for="apellido" class="form-label">Apellido:</label>
	                <input type="text" class="form-control" id="apellido" name="apellido" th:field="*{apellido}"  required>
	            </div>
			</div>        
            <div class="">
                <label for="correo" class="form-label">Correo electrónico:</label>
                <input type="email" class="form-control" id="correo" name="correo" th:field="*{correo}" required>
            </div>
			<div class="row">
				<div class="col-6">
					  <label for="dni" class="form-label">Dni:</label>
					  <input type="number" class="form-control" id="dni" name="dni" th:field="*{dni}" required>
				</div>
				<div class="col-6">
	                <label for="telefono" class="form-label">Teléfono:</label>
	                <input type="tel" class="form-control" id="telefono" name="telefono" th:field="*{telefono}" required>
	            </div>
			</div>
			<div class="row">
				<div class="col-6">
					<label for="nacimiento" class="form-label">Fecha de Nacimiento:</label>
					<input type="date" class="form-control" id="nacimiento" name="nacimiento" th:field="*{nacimiento}" required>
				</div>
			</div>	
			<br>
			<button type="submit" class="btn btn-primary">Actualiza</button>
        </form>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous">
	</script>
	<script type="text/javascript">
	    $(document).ready(function() {
	        $.getJSON("/JefePrestamista/distritos", {}, function(data) {
	            $.each(data, function(index, item) {
	                $("#idDistrito").append("<option value=" + item.id + ">" + item.nombre + "</option>");
	            });
	        }).fail(function(jqXHR, textStatus, errorThrown) {
	            console.error("Error al cargar los distritos: " + textStatus, errorThrown);
	        });
	    });
	</script>
</body>
</html>